<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Pad - Image Padding & Collage Tool</title>
    <link rel="stylesheet" href="styles/main.css">
    <style>
        .site-nav-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 52px;
            background: #1a1a2e;
            color: #eee;
            display: flex;
            align-items: center;
            padding: 0 12px;
            z-index: 1010;
        }
        .site-nav-toggle {
            background: none;
            border: none;
            color: inherit;
            cursor: pointer;
            padding: 8px;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        .site-nav-toggle span {
            display: block;
            width: 24px;
            height: 2px;
            background: currentColor;
        }
        .site-nav-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.4);
            z-index: 1011;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s, visibility 0.2s;
        }
        .site-nav-overlay.open { opacity: 1; visibility: visible; }
        .site-nav-drawer {
            position: fixed;
            top: 0;
            left: 0;
            width: 260px;
            max-width: 85vw;
            height: 100vh;
            background: #16213e;
            color: #eee;
            z-index: 1012;
            padding: 60px 0 24px 24px;
            transform: translateX(-100%);
            transition: transform 0.25s ease;
        }
        .site-nav-drawer.open { transform: translateX(0); }
        .site-nav-drawer a {
            display: block;
            color: #eee;
            text-decoration: none;
            padding: 12px 16px;
            margin: 4px 0;
            border-radius: 8px;
            transition: background 0.15s;
        }
        .site-nav-drawer a:hover { background: rgba(255,255,255,0.1); }
        .site-nav-drawer a.active { background: rgba(255,255,255,0.15); font-weight: 600; }
        .app-container { padding-top: 52px; }
    </style>
</head>
<body>
    <nav class="site-nav-bar">
        <button class="site-nav-toggle" id="site-nav-toggle" aria-label="Open menu">
            <span></span><span></span><span></span>
        </button>
    </nav>
    <div class="site-nav-overlay" id="site-nav-overlay"></div>
    <div class="site-nav-drawer" id="site-nav-drawer">
        <a href="../index.html">Homepage</a>
        <a href="../barcode-scanner.html">Barcode scanner test</a>
        <a href="index.html" class="active">Image pad and collage generator</a>
    </div>
    <div class="app-container">
        <header class="app-header">
            <h1>Image Pad</h1>
            <p class="subtitle">Image Padding & Photo Collage Tool</p>
        </header>

        <div class="main-content">
            <!-- Left Menu -->
            <aside class="left-menu">
                <!-- Mode Toggle Section -->
                <section class="menu-section">
                    <h2>Mode</h2>
                    <div class="mode-toggle">
                        <label class="radio-label">
                            <input type="radio" name="mode" value="single" checked>
                            <span>Single Image</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="mode" value="collage">
                            <span>Photo Collage</span>
                        </label>
                    </div>
                </section>

                <!-- Image Upload Section -->
                <section class="menu-section" id="upload-section">
                    <h2>Upload Image</h2>
                    <div class="upload-area" id="upload-area">
                        <input type="file" id="file-input" accept="image/*" multiple>
                        <button class="btn btn-primary" id="choose-btn">Choose Image(s)</button>
                        <p class="upload-hint">or drag and drop here</p>
                    </div>
                    <div class="image-info" id="image-info"></div>
                </section>

                <!-- Photo Collage Section -->
                <section class="menu-section" id="collage-section" style="display: none;">
                    <h2>Grid Layout</h2>
                    <div class="grid-selector" id="grid-selector">
                        <!-- Grid buttons will be generated by JavaScript -->
                    </div>
                    <div class="image-counter" id="image-counter"></div>
                    <div class="fill-mode-selector">
                        <label>
                            Fill Mode:
                            <select id="fill-mode">
                                <option value="fit">Fit (Preserve Aspect)</option>
                                <option value="vertical">Fill Vertical (Crop Horizontal)</option>
                                <option value="horizontal">Fill Horizontal (Crop Vertical)</option>
                            </select>
                        </label>
                    </div>
                    <div class="crop-hint">
                        <p>ðŸ’¡ Click and drag on cells to adjust crop area</p>
                    </div>
                </section>

                <!-- Output Size Section -->
                <section class="menu-section">
                    <h2>Output Size</h2>
                    <div class="preset-buttons">
                        <button class="btn btn-preset" data-preset="portrait">Portrait<br>1080 Ã— 1920</button>
                        <button class="btn btn-preset" data-preset="landscape">Landscape<br>1920 Ã— 1080</button>
                        <button class="btn btn-preset" data-preset="square">Square<br>1080 Ã— 1080</button>
                        <button class="btn btn-preset" data-preset="instagram">Instagram<br>1080 Ã— 1350</button>
                    </div>
                    <div class="custom-dimensions">
                        <label>
                            Width:
                            <input type="number" id="output-width" value="1920" min="1" max="10000">
                        </label>
                        <label>
                            Height:
                            <input type="number" id="output-height" value="1080" min="1" max="10000">
                        </label>
                        <button class="btn btn-secondary" id="apply-dimensions">Apply</button>
                    </div>
                </section>

                <!-- Margin Settings Section -->
                <section class="menu-section">
                    <h2>Margin Settings</h2>
                    <label>
                        Margin Size (px):
                        <input type="number" id="margin-size" value="10" min="0" max="500">
                    </label>
                    <label>
                        Margin Color:
                        <input type="color" id="margin-color" value="#FFFFFF">
                    </label>
                </section>

                <!-- Export Section -->
                <section class="menu-section">
                    <h2>Export</h2>
                    <label>
                        Format:
                        <select id="export-format">
                            <option value="png">PNG</option>
                            <option value="jpeg">JPEG</option>
                            <option value="webp">WebP</option>
                        </select>
                    </label>
                    <label id="quality-label" style="display: none;">
                        Quality:
                        <input type="range" id="export-quality" min="1" max="100" value="90">
                        <span id="quality-value">90</span>%
                    </label>
                    <button class="btn btn-primary btn-download" id="download-btn">Download Image</button>
                </section>
            </aside>

            <!-- Preview Area -->
            <main class="preview-area">
                <div class="preview-container" id="preview-container">
                    <canvas id="preview-canvas"></canvas>
                    <div class="preview-placeholder" id="preview-placeholder">
                        <p>Upload an image to get started</p>
                    </div>
                </div>
                <div class="preview-info" id="preview-info"></div>
            </main>
        </div>
    </div>

    <script type="module" src="scripts/main.js"></script>
    <script>
        (function() {
            var toggle = document.getElementById('site-nav-toggle');
            var overlay = document.getElementById('site-nav-overlay');
            var drawer = document.getElementById('site-nav-drawer');
            function open() { drawer.classList.add('open'); overlay.classList.add('open'); }
            function close() { drawer.classList.remove('open'); overlay.classList.remove('open'); }
            toggle.addEventListener('click', open);
            overlay.addEventListener('click', close);
        })();
    </script>
</body>
</html>

